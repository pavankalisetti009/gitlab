mutation chatWithThread(
  $question: String!
  $resourceId: AiModelID!
  $agentVersionId: AiAgentVersionID
  $clientSubscriptionId: String
  $projectId: ProjectID
  $currentFileContext: AiCurrentFileInput
  $threadId: AiConversationThreadID!
) {
  aiAction(
    input: {
      chat: {
        resourceId: $resourceId
        content: $question
        agentVersionId: $agentVersionId
        currentFile: $currentFileContext
      }
      projectId: $projectId
      clientSubscriptionId: $clientSubscriptionId
      conversationType: DUO_CHAT
      threadId: $threadId
    }
  ) {
    requestId
    errors
    threadId
  }
}
