#import "../fragments/ai_catalog_item.fragment.graphql"
#import "../fragments/ai_catalog_agent_version.fragment.graphql"

query aiCatalogAgent(
  $id: AiCatalogItemID!
  $showSoftDeleted: Boolean
  $projectId: ProjectID!
  $hasProject: Boolean = false
) {
  aiCatalogItem(id: $id, showSoftDeleted: $showSoftDeleted) {
    ...BaseAiCatalogItem
    project {
      id
      nameWithNamespace
      webUrl
      rootGroup @gl_introduced(version: "18.6.0") {
        id
        fullName
      }
    }
    latestVersion {
      ...BaseAiCatalogAgentVersion
    }
    versions {
      nodes {
        ...BaseAiCatalogAgentVersion
      }
    }
    configurationForProject(projectId: $projectId) @include(if: $hasProject) {
      id
      enabled
    }
  }
}
