query SubgroupsAndProjects(
  $fullPath: ID!
  $subgroupsFirst: Int
  $subgroupsAfter: String
  $projectsFirst: Int
  $projectsAfter: String
) {
  group(fullPath: $fullPath) {
    id
    descendantGroups(
      includeParentDescendants: false
      first: $subgroupsFirst
      after: $subgroupsAfter
    ) {
      pageInfo {
        hasNextPage
        endCursor
      }
      nodes {
        __typename
        id
        name
        descendantGroupsCount
        projectsCount
        path
        fullPath
        avatarUrl
        webUrl
        vulnerabilityNamespaceStatistic {
          critical
          high
          low
          info
          medium
          unknown
        }
      }
    }
    projects(first: $projectsFirst, after: $projectsAfter) {
      pageInfo {
        hasNextPage
        endCursor
      }
      nodes {
        __typename
        id
        name
        path
        fullPath
        avatarUrl
        webUrl
        vulnerabilityStatistic {
          critical
          high
          low
          info
          medium
          unknown
        }
        securityScanners {
          enabled
          pipelineRun
        }
      }
    }
  }
}
