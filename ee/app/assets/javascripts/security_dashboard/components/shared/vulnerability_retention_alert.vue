<script>
import { unescape } from 'lodash';
import { GlAlert } from '@gitlab/ui';
import { sanitize } from '~/lib/dompurify';
import { s__ } from '~/locale';

export default {
  components: { GlAlert },
  inject: ['showRetentionAlert'],
  i18n: {
    message: unescape(
      sanitize(
        s__(
          'SecurityReports|Starting 2025-05-15, we will gradually migrate vulnerabilities that have not been updated in the last 12 months to the vulnerability archive. Archived vulnerabilities are stored for 3 years before deletion. To access the archive, on the left sidebar, select Secure &gt; Security Configuration &gt; Vulnerability Management.',
        ),
        { ALLOWED_TAGS: [] },
      ),
    ),
  },
};
</script>

<template>
  <gl-alert
    v-if="showRetentionAlert"
    :title="s__('SecurityReports|Coming soon: time-based data retention limits')"
    :dismissible="false"
    variant="warning"
    class="gl-mt-5"
  >
    <p>{{ $options.i18n.message }}</p>
  </gl-alert>
</template>
