#import "~/graphql_shared/fragments/page_info.fragment.graphql"
#import "~/issues/dashboard/queries/issue.fragment.graphql"
#import "ee/work_items/graphql/work_item_status.fragment.graphql"

query getDashboardIssuesEE(
  $hideUsers: Boolean = false
  $isSignedIn: Boolean = false
  $search: String
  $sort: IssueSort
  $state: IssuableState
  $assigneeId: String
  $assigneeUsernames: [String!]
  $assigneeWildcardId: AssigneeWildcardId
  $authorUsername: String
  $closedAfter: Time
  $closedBefore: Time
  $confidential: Boolean
  $createdAfter: Time
  $createdBefore: Time
  $labelName: [String]
  $milestoneTitle: [String]
  $milestoneWildcardId: MilestoneWildcardId
  $myReactionEmoji: String
  $status: WorkItemWidgetStatusFilterInput
  $subscribed: SubscriptionStatus
  $types: [IssueType!]
  $in: [IssuableSearchableField!]
  $not: NegatedIssueFilterInput
  $or: UnionedIssueFilterInput
  $afterCursor: String
  $beforeCursor: String
  $firstPageSize: Int
  $lastPageSize: Int
) {
  issues(
    search: $search
    sort: $sort
    state: $state
    assigneeId: $assigneeId
    assigneeUsernames: $assigneeUsernames
    assigneeWildcardId: $assigneeWildcardId
    authorUsername: $authorUsername
    closedAfter: $closedAfter
    closedBefore: $closedBefore
    confidential: $confidential
    createdAfter: $createdAfter
    createdBefore: $createdBefore
    labelName: $labelName
    milestoneTitle: $milestoneTitle
    milestoneWildcardId: $milestoneWildcardId
    myReactionEmoji: $myReactionEmoji
    status: $status
    subscribed: $subscribed
    types: $types
    in: $in
    not: $not
    or: $or
    after: $afterCursor
    before: $beforeCursor
    first: $firstPageSize
    last: $lastPageSize
  ) @persist {
    nodes {
      __persist
      ...IssueFragment
      blockingCount
      healthStatus
      reference(full: true)
      status {
        ...WorkItemStatusFragment
      }
      weight
    }
    pageInfo {
      ...PageInfo
    }
  }
}
