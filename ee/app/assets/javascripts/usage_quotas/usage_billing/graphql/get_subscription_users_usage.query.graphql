query getSubscriptionUsersUsage(
  $namespacePath: ID
  $first: Int
  $last: Int
  $after: String
  $before: String
) {
  subscriptionUsage(namespacePath: $namespacePath) {
    usersUsage {
      users(first: $first, last: $last, after: $after, before: $before) {
        nodes {
          id
          name
          username
          avatarUrl
          usage {
            creditsUsed
            totalCredits
            monthlyCommitmentCreditsUsed
            overageCreditsUsed
            # TODO: this field will be integrated in https://gitlab.com/gitlab-org/gitlab/-/issues/578579
            # oneTimeCreditsUsed
          }
        }
        pageInfo {
          hasNextPage
          hasPreviousPage
          startCursor
          endCursor
        }
      }
    }
  }
}
