query getUserSubscriptionUsage($namespacePath: ID, $username: String) {
  subscriptionUsage(namespacePath: $namespacePath) {
    lastEventTransactionAt

    startDate
    endDate

    usersUsage {
      users(username: $username) {
        nodes {
          id
          name
          username
          avatarUrl

          usage {
            totalCredits
            creditsUsed
            monthlyCommitmentCreditsUsed
            # TODO: this field will be integrated in https://gitlab.com/gitlab-org/gitlab/-/issues/578579
            # oneTimeCreditsUsed
            overageCreditsUsed
          }

          # events(first: $first, last: $last, after: $after, before: $before) {
          #   nodes {
          #     timestamp
          #     eventType
          #     location {
          #       name
          #       webUrl
          #     }
          #     creditsUsed
          #   }
          #   pageInfo {
          #     ...PageInfo
          #   }
          # }
        }
      }
    }
  }
}
