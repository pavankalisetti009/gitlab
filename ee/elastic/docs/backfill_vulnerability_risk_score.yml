---
migration_name: BackfillVulnerabilityRiskScore
description: |
  Backfills the risk_score field for existing vulnerability documents in Elasticsearch.
  This migration reads calculated risk scores from the vulnerability_finding_risk_scores 
  table and updates the corresponding ES documents to ensure consistent risk scoring
  across all vulnerabilities in the security dashboard.
  
  The migration is skipped on self-managed instances to avoid issues with ES configuration.
introduced_by_url: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/210023
milestone: '18.6'
